<template>
    <div class="bg-white px-6 pb-6 pt-4 m-6 cursor-pointer" @click="showDetail = ! showDetail">
        <hr class="bg-[#71747D] h-1 w-8 rounded-full mx-auto my-1">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-2">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.00012 4V8H12.0001" stroke="#1F2937" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M8.00004 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8.00004C14.6667 4.31804 11.682 1.33337 8.00004 1.33337C4.31804 1.33337 1.33337 4.31804 1.33337 8.00004C1.33337 11.682 4.31804 14.6667 8.00004 14.6667Z"
                        stroke="#1F2937" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

                <h1 class="text-[#1F2937] text-sm">Estimasi sampai</h1>
            </div>
            <h1 class="text-[#4161AC] text-sm font-bold">{{ estTime }}</h1>
        </div>
        <div class="flex items-center justify-between mt-2">
            <div class="flex items-center gap-x-2">
                <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M13.855 4.935L13.12 2.5C12.9048 1.77836 12.4627 1.14536 11.8592 0.694982C11.2557 0.244607 10.523 0.000882696 9.77 0H2.5C1.83696 0 1.20107 0.263392 0.732233 0.732233C0.263392 1.20107 0 1.83696 0 2.5V8C1.78609e-05 8.58584 0.205779 9.15308 0.581366 9.60268C0.956954 10.0523 1.47851 10.3557 2.055 10.46C2.15884 10.8936 2.40462 11.2801 2.75329 11.5581C3.10196 11.8361 3.53351 11.9895 3.97939 11.9941C4.42527 11.9987 4.8599 11.8542 5.21422 11.5835C5.56854 11.3128 5.82224 10.9314 5.935 10.5H8.065C8.17776 10.9314 8.43146 11.3128 8.78578 11.5835C9.14011 11.8542 9.57473 11.9987 10.0206 11.9941C10.4665 11.9895 10.898 11.8361 11.2467 11.5581C11.5954 11.2801 11.8412 10.8936 11.945 10.46C12.5215 10.3557 13.043 10.0523 13.4186 9.60268C13.7942 9.15308 14 8.58584 14 8V5.94C13.9995 5.59982 13.9507 5.26144 13.855 4.935ZM12.16 2.78L12.83 5H8.5V1H9.77C10.3067 1.00088 10.8288 1.17442 11.2592 1.49497C11.6896 1.81553 12.0054 2.26608 12.16 2.78ZM7 5H4.5V1H7.5V5H7ZM2.5 1H3.5V5H1V2.5C1 2.10218 1.15804 1.72064 1.43934 1.43934C1.72064 1.15804 2.10218 1 2.5 1ZM1 8V6H7C7.58873 6.00085 8.15827 6.20944 8.60828 6.58903C9.0583 6.96862 9.35992 7.49484 9.46 8.075C9.12314 8.16973 8.81702 8.35118 8.57223 8.60124C8.32744 8.85129 8.15254 9.1612 8.065 9.5H5.935C5.82559 9.07629 5.58022 8.70016 5.23653 8.42927C4.89284 8.15839 4.46979 8.00771 4.03224 8.00033C3.59469 7.99295 3.1668 8.12929 2.81417 8.38843C2.46154 8.64757 2.20364 9.01522 2.08 9.435C1.76925 9.34437 1.49615 9.15564 1.3015 8.897C1.10684 8.63836 1.00108 8.3237 1 8ZM4 11C3.77982 11.0002 3.56572 10.9278 3.39093 10.7939C3.21613 10.66 3.0904 10.4722 3.03325 10.2596C2.9761 10.0469 2.99072 9.82138 3.07485 9.61791C3.15898 9.41444 3.30791 9.24442 3.49853 9.13423C3.68915 9.02404 3.91081 8.97985 4.12912 9.00851C4.34742 9.03716 4.55017 9.13706 4.7059 9.29271C4.86163 9.44836 4.96164 9.65106 4.9904 9.86935C5.01917 10.0876 4.97509 10.3093 4.865 10.5C4.77732 10.6519 4.65124 10.778 4.49942 10.8658C4.3476 10.9535 4.17536 10.9998 4 11ZM10 11C9.82455 10.9998 9.65224 10.9535 9.50036 10.8656C9.34848 10.7778 9.22239 10.6515 9.13474 10.4996C9.0471 10.3476 9.00098 10.1752 9.00103 9.99974C9.00107 9.82429 9.04728 9.65194 9.135 9.5C9.2249 9.35024 9.35024 9.2249 9.5 9.135C9.65202 9.04723 9.82446 9.00103 10 9.00103C10.1755 9.00103 10.348 9.04723 10.5 9.135C10.6498 9.2249 10.7751 9.35024 10.865 9.5C10.9527 9.65194 10.9989 9.82429 10.999 9.99974C10.999 10.1752 10.9529 10.3476 10.8653 10.4996C10.7776 10.6515 10.6515 10.7778 10.4996 10.8656C10.3478 10.9535 10.1754 10.9998 10 11ZM11.92 9.435C11.8204 9.09725 11.6334 8.79178 11.378 8.54946C11.1225 8.30715 10.8075 8.13658 10.465 8.055C10.3756 7.27605 10.0228 6.55102 9.465 6H13V7H12.5C12.3674 7 12.2402 7.05268 12.1464 7.14645C12.0527 7.24021 12 7.36739 12 7.5C12 7.63261 12.0527 7.75979 12.1464 7.85355C12.2402 7.94732 12.3674 8 12.5 8H13C12.9989 8.3237 12.8932 8.63836 12.6985 8.897C12.5039 9.15564 12.2308 9.34437 11.92 9.435Z"
                        fill="#1F2937" />
                </svg>
                <h1 class="text-[#1F2937] text-sm">Nomor Lambung Armada</h1>
            </div>
            <h1 class="text-[#4161AC] text-sm font-bold">JH123</h1>
        </div>
        <div :class="showDetail ? 'max-h-[250px] overflow-hidden' : 'max-h-0 overflow-hidden'" class="border-t border-[#E5E7EB] mt-3 space-y-1 transition-all ease-in-out duration-300">
            <div class="flex items-center mt-2 gap-x-2">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M6 1C3.791 1 2 3.0015 2 5.25C2 7.481 3.2765 9.906 5.2685 10.837C5.49746 10.9442 5.74718 10.9998 6 10.9998C6.25282 10.9998 6.50254 10.9442 6.7315 10.837C8.7235 9.906 10 7.481 10 5.25C10 3.0015 8.209 1 6 1ZM6 6C6.26522 6 6.51957 5.89464 6.70711 5.70711C6.89464 5.51957 7 5.26522 7 5C7 4.73478 6.89464 4.48043 6.70711 4.29289C6.51957 4.10536 6.26522 4 6 4C5.73478 4 5.48043 4.10536 5.29289 4.29289C5.10536 4.48043 5 4.73478 5 5C5 5.26522 5.10536 5.51957 5.29289 5.70711C5.48043 5.89464 5.73478 6 6 6Z"
                        fill="#F34782" />
                </svg>
                <p class="text-[#555555] font-medium text-xs">Titik Jemput Virtual Point</p>
            </div>
            <h1 class="text-[#1F2937] font-medium text-sm">{{titleTrip.nama}}</h1>
            <p class="text-[#71747D] text-normal text-xs">Jalan Kebon Jeruk Raya No. 8a Palmerah (Binus) Jakarta Barat
            </p>
        </div>
    </div>
</template>

<script setup>
import { useMapStore } from '../store/map';
import { computed, ref } from 'vue';

const showDetail = ref(false)

const mapStore = useMapStore();

const titleTrip = computed(() => mapStore.getTitleTrip)
const estTime = computed(() => mapStore.getEstTime)
</script>

<style lang="scss" scoped></style>